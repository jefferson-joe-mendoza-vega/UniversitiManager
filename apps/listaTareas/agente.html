<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöÄ Dashboard de Productividad - jefferson-joe-mendoza-vega</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow: hidden;
        }

        /* Header responsive */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            padding: 15px 20px;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
            flex-wrap: wrap;
            gap: 10px;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 12px;
            flex: 1;
            min-width: 250px;
        }

        .header-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: #4f46e5;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
        }

        .header-subtitle {
            font-size: 0.85rem;
            color: #6b7280;
            margin-top: 2px;
        }

        .header-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .control-btn {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            color: white;
            border: none;
            padding: 10px 18px;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 6px;
            white-space: nowrap;
        }

        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(79, 70, 229, 0.3);
        }

        .control-btn:disabled {
            background: #9ca3af;
            cursor: not-allowed;
            transform: none;
        }

        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
            flex-shrink: 0;
        }

        .status-loading {
            background: #f59e0b;
            animation: pulse 1.5s infinite;
        }

        .status-success {
            background: #10b981;
        }

        .status-error {
            background: #ef4444;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Loading overlay responsive */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1f2937 0%, #374151 50%, #111827 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 999;
            transition: opacity 0.8s ease, visibility 0.8s ease;
            padding: 20px;
        }

        .loading-overlay.hidden {
            opacity: 0;
            visibility: hidden;
        }

        /* Contenedor de frases responsive */
        .quotes-container {
            max-width: 900px;
            width: 100%;
            text-align: center;
            position: relative;
        }

        .loading-header {
            color: #f3f4f6;
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5), 0 0 10px rgba(79, 70, 229, 0.3); }
            to { text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5), 0 0 20px rgba(124, 58, 237, 0.5); }
        }

        .loading-subtitle {
            color: #d1d5db;
            font-size: 1.1rem;
            margin-bottom: 40px;
            opacity: 0.9;
        }

        .quote-display {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 35px;
            margin-bottom: 30px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }

        .quote-display::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, #4f46e5, #7c3aed, #4f46e5);
            animation: shimmer 3s linear infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .quote-text {
            color: #f9fafb;
            font-size: 1.3rem;
            line-height: 1.7;
            font-weight: 500;
            font-style: italic;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 1s ease-out forwards;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .quote-author {
            color: #9ca3af;
            font-size: 0.95rem;
            margin-top: 20px;
            opacity: 0;
            animation: fadeIn 1s ease-out 0.5s forwards;
        }

        @keyframes fadeIn {
            to { opacity: 1; }
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #d1d5db;
            font-size: 0.9rem;
            margin-top: 25px;
            gap: 15px;
            flex-wrap: wrap;
        }

        .quote-counter {
            background: rgba(79, 70, 229, 0.2);
            padding: 8px 16px;
            border-radius: 25px;
            border: 1px solid rgba(79, 70, 229, 0.3);
            white-space: nowrap;
        }

        .time-remaining {
            background: rgba(124, 58, 237, 0.2);
            padding: 8px 16px;
            border-radius: 25px;
            border: 1px solid rgba(124, 58, 237, 0.3);
            white-space: nowrap;
        }

        /* Iframe container responsive */
        .iframe-container {
            position: fixed;
            top: 80px;
            left: 0;
            right: 0;
            bottom: 0;
            background: white;
            border-radius: 15px 15px 0 0;
            overflow: hidden;
            box-shadow: 0 -5px 30px rgba(0, 0, 0, 0.15);
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s ease;
        }

        .iframe-container.show {
            opacity: 1;
            transform: translateY(0);
        }

        .dashboard-iframe {
            width: 100%;
            height: 100%;
            border: none;
            background: white;
        }

        /* Error overlay responsive */
        .error-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 998;
            padding: 20px;
        }

        .error-overlay.show {
            display: flex;
        }

        .error-card {
            background: white;
            border: 3px solid #ef4444;
            border-radius: 20px;
            padding: 35px;
            max-width: 500px;
            width: 100%;
            text-align: center;
            box-shadow: 0 20px 40px rgba(239, 68, 68, 0.2);
        }

        .error-icon {
            font-size: 3.5rem;
            margin-bottom: 20px;
        }

        .error-title {
            color: #dc2626;
            font-size: 1.6rem;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .error-message {
            color: #991b1b;
            margin-bottom: 25px;
            line-height: 1.6;
            font-size: 1rem;
        }

        .retry-btn {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            margin: 0 auto;
        }

        .retry-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(239, 68, 68, 0.3);
        }

        /* Media queries para responsividad completa */
        @media (max-width: 768px) {
            .header {
                padding: 12px 15px;
                flex-direction: column;
                align-items: stretch;
                gap: 12px;
            }
            
            .header-left {
                justify-content: center;
                min-width: auto;
            }
            
            .header-title {
                font-size: 1.1rem;
                text-align: center;
            }
            
            .header-subtitle {
                text-align: center;
            }
            
            .header-controls {
                justify-content: center;
            }
            
            .control-btn {
                padding: 12px 20px;
                font-size: 0.95rem;
            }
            
            .iframe-container {
                top: 120px;
            }
            
            .loading-header {
                font-size: 1.6rem;
                margin-bottom: 12px;
            }
            
            .loading-subtitle {
                font-size: 1rem;
                margin-bottom: 30px;
            }
            
            .quote-text {
                font-size: 1.1rem;
                line-height: 1.6;
            }
            
            .quote-display {
                padding: 25px 20px;
                margin-bottom: 25px;
            }
            
            .progress-info {
                justify-content: center;
                font-size: 0.85rem;
            }
            
            .error-card {
                padding: 25px 20px;
            }
            
            .error-title {
                font-size: 1.4rem;
            }
            
            .error-icon {
                font-size: 3rem;
            }
        }

        @media (max-width: 480px) {
            .header {
                padding: 10px 12px;
            }
            
            .loading-header {
                font-size: 1.4rem;
            }
            
            .quote-text {
                font-size: 1rem;
                line-height: 1.5;
            }
            
            .quote-display {
                padding: 20px 15px;
                border-radius: 15px;
            }
            
            .quote-counter,
            .time-remaining {
                padding: 6px 12px;
                font-size: 0.8rem;
            }
            
            .control-btn {
                padding: 10px 16px;
                font-size: 0.9rem;
            }
            
            .iframe-container {
                border-radius: 10px 10px 0 0;
            }
        }

        @media (max-width: 360px) {
            .quotes-container {
                padding: 0 10px;
            }
            
            .loading-header {
                font-size: 1.3rem;
            }
            
            .quote-text {
                font-size: 0.95rem;
            }
            
            .progress-info {
                flex-direction: column;
                gap: 10px;
            }
        }

        /* Landscape m√≥vil */
        @media (max-height: 500px) and (orientation: landscape) {
            .loading-header {
                font-size: 1.3rem;
                margin-bottom: 8px;
            }
            
            .loading-subtitle {
                font-size: 0.9rem;
                margin-bottom: 20px;
            }
            
            .quote-display {
                padding: 20px;
                margin-bottom: 15px;
            }
            
            .quote-text {
                font-size: 1rem;
            }
            
            .progress-info {
                margin-top: 15px;
            }
        }
    </style>
</head>
<body>
    <!-- Header responsive -->
    <div class="header">
        <div class="header-left">
            <div class="status-indicator" id="statusIndicator"></div>
            <div>
                <div class="header-title">ü§ñ Dashboard de Productividad</div>
                <div class="header-subtitle">jefferson-joe-mendoza-vega</div>
            </div>
        </div>
        <div class="header-controls">
            <button class="control-btn" id="refreshBtn" onclick="loadDashboard()">
                <span>üîÑ</span>
                <span>Actualizar</span>
            </button>
        </div>
    </div>

    <!-- Loading overlay con frases cada 8 segundos -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="quotes-container">
            <div class="loading-header">üß† Procesando con Inteligencia Artificial</div>
            <div class="loading-subtitle">Mientras genero tu dashboard, reflexiona sobre estas ideas...</div>
            
            <div class="quote-display">
                <div class="quote-text" id="quoteText"></div>
                <div class="quote-author">‚Äî Reflexiones sobre la naturaleza humana</div>
            </div>
            
            <div class="progress-info">
                <div class="quote-counter" id="quoteCounter">üé≤ Frase aleatoria</div>
                <div class="time-remaining" id="timeRemaining">Siguiente en 8s</div>
            </div>
        </div>
    </div>

    <!-- Error overlay -->
    <div class="error-overlay" id="errorOverlay">
        <div class="error-card">
            <div class="error-icon">‚ö†Ô∏è</div>
            <h1 class="error-title">Error al cargar Dashboard</h1>
            <p class="error-message" id="errorMessage">
                No se pudo conectar con el servidor. Verifica tu conexi√≥n e intenta nuevamente.
            </p>
            <button class="retry-btn" onclick="loadDashboard()">
                <span>üîÑ</span>
                <span>Reintentar</span>
            </button>
        </div>
    </div>

    <!-- Iframe container -->
    <div class="iframe-container" id="iframeContainer">
        <iframe 
            id="dashboardIframe" 
            class="dashboard-iframe"
            title="Dashboard de Productividad"
            sandbox="allow-scripts allow-same-origin allow-forms"
            loading="eager">
        </iframe>
    </div>

    <script>
        // URL del endpoint
        const DASHBOARD_URL = 'https://agent-organizator-university.mendozavegajeffersonjoe.workers.dev/renderizado.js';
        
        // Frases profundas para mostrar de manera aleatoria cada 8 segundos
        const quotes = [
  { quote: "{El ser humano puede mirar el sufrimiento ajeno a los ojos‚Ä¶ y sonre√≠r si no es el suyo. ‚Äî Morbo, envidia y poder: combustibles de nuestra oscuridad.}" },
  { quote: "{Nada traiciona mejor que alguien que un d√≠a te dijo: ‚Äòpuedes confiar en m√≠‚Äô. ‚Äî La lealtad es fr√°gil. El ego, voraz.}" },
  { quote: "{No somos tan malos por lo que hacemos, sino por lo bien que lo justificamos. ‚Äî Toda atrocidad tiene una excusa lista. El monstruo se disfraza de causa noble.}" },
  { quote: "{Dale poder a alguien y ver√°s cu√°n r√°pido olvida que tambi√©n es mortal. ‚Äî El poder no corrompe: revela.}" },
  { quote: "{La historia humana es un disco rayado de errores repetidos con distinta bandera. ‚Äî Guerras, imperios, odios reciclados. Aprender no parece ser nuestro fuerte.}" },
  { quote: "{No queremos ser buenos, queremos parecer buenos frente a los dem√°s. ‚Äî La bondad sin testigos es la menos com√∫n.}" },
  { quote: "{Hay quienes prefieren una vida de mentiras antes que enfrentarse a su vac√≠o. ‚Äî El autoenga√±o es la droga m√°s antigua del mundo. Y la m√°s adictiva.}" },
  { quote: "{La violencia no es la excepci√≥n en el hombre. Es su idioma aprendido desde ni√±o. ‚Äî Desde la burla hasta la masacre, todo nace en la misma ra√≠z: miedo, ego, territorio.}" },
  { quote: "{Creemos ser √∫nicos, pero todos sangramos por los mismos lugares. ‚Äî Amor, miedo, rechazo, deseo. Somos copias con distinta tinta.}" },
  { quote: "{Morimos como vivimos: deseando haber vivido de verdad. ‚Äî Postergamos lo esencial hasta que se nos apaga el cuerpo.}" },
  { quote: "{La moral es un disfraz que usamos cuando otros nos est√°n mirando. ‚Äî En soledad se revela la verdadera √©tica: la que nadie aplaude.}" },
  { quote: "{No soportamos el silencio porque en √©l escuchamos qui√©nes somos. ‚Äî Por eso huimos a pantallas, ruido, consumo. No es entretenimiento: es evasi√≥n.}" },
  { quote: "{El ser humano puede amar‚Ä¶ pero tambi√©n destruir lo que ama, por miedo a perderlo. ‚Äî Confundimos posesi√≥n con afecto, control con cuidado.}" },
  { quote: "{La mayor mentira humana es: ‚Äòyo nunca har√≠a eso‚Äô. ‚Äî Todos somos capaces de todo. Solo necesitamos el motivo correcto y la situaci√≥n adecuada.}" },
  { quote: "{No tememos a la muerte. Tememos haber vivido en vano. ‚Äî Porque en el fondo sabemos que desperdiciamos el tiempo m√°s valioso: el ahora.}" },
  { quote: "{El hombre no necesita leones ni tiburones; se devora a s√≠ mismo con guerras, odios y ambiciones. La sangre que derrama no es sacrificio, es su espejo. ‚Äî Nuestra historia es un ciclo de masacres, desde campos de exterminio hasta bombardeos en 2025.}" },
  { quote: "{Por un pu√±ado de billetes, el hombre quema bosques, esclaviza a su hermano y vende el aire que respira. La avaricia no es un pecado; es su dios. ‚Äî En 2025, el 1% acapara la riqueza mientras miles de millones se ahogan en la miseria.}" },
  { quote: "{No hay bestia que torture por diversi√≥n, pero el hombre aplaude mientras otro sufre. Su risa es el eco de un vac√≠o que no admite. ‚Äî Desde los circos romanos hasta los videos virales de violencia en X.}" },
  { quote: "{El hombre grita 'justicia' mientras pisa los huesos de los que explota. Su moral es un disfraz que se quita cuando nadie lo ve. ‚Äî Condenamos la esclavitud, pero usamos ropa hecha por ni√±os.}" },
  { quote: "{El hombre corta el √°rbol que lo cobija, envenena el r√≠o que lo nutre y luego llora cuando la Tierra le escupe. Es un suicida que no reconoce su arma. ‚Äî Sabemos que el cambio clim√°tico nos mata, pero seguimos consumiendo.}" },
  { quote: "{Dame poder, y te mostrar√© al hombre en su forma m√°s vil: un tirano que se cree dios, un esclavo que se cree libre. ‚Äî Desde dictadores hasta influencers, el poder nos transforma.}" },
  { quote: "{La verdad es un cuchillo que el hombre esquiva. Prefiere la mentira que lo arropa, aunque lo ahogue. ‚Äî No queremos saber; queremos creer. La verdad duele, y el hombre es cobarde.}" },
  { quote: "{Con un mundo en su pantalla, el hombre se ahoga en su propia sombra. Nunca estuvo tan conectado, nunca tan vac√≠o. ‚Äî Las redes nos prometen comunidad, pero entregan ansiedad.}" },
  { quote: "{Un insulto, un rechazo, una p√©rdida, y el hombre se quiebra. Su fuerza es una mentira que se deshace con un soplo. ‚Äî Queremos ser fuertes, pero somos esclavos de nuestras emociones.}" },
  { quote: "{No hace falta un demonio para el infierno; el hombre com√∫n, con su silencio, construye el horror sin pesta√±ear. ‚Äî Los campos de concentraci√≥n no los hicieron monstruos, sino personas comunes.}" },
  { quote: "{El hombre es un milagro roto, un poema escrito con sangre, un grito que no sabe si pide salvaci√≥n o condena. ‚Äî Somos un desastre magn√≠fico.}" },
  { quote: "{Llevamos dentro tanto al santo como al demonio, y la vida es el campo de batalla donde ambos luchan.}" },
  { quote: "{El mayor enemigo del hombre no est√° fuera, sino dentro de s√≠ mismo - en sus miedos, prejuicios y debilidades que prefiere no ver.}" },
  { quote: "{Juzgamos a otros por sus acciones, pero a nosotros mismos por nuestras intenciones.}" },
  { quote: "{Mu√©strame c√≥mo alguien trata a quien no puede defenderse, y te mostrar√© qui√©n es realmente.}" },
  { quote: "{Preferimos la comodidad de nuestras cadenas conocidas al riesgo incierto de la libertad.}" },
  { quote: "{No mentimos solo a otros - nos mentimos a nosotros mismos hasta que la mentira se vuelve nuestra realidad.}" },
  { quote: "{Es m√°s f√°cil culpar al mundo de nuestros fracasos que admitir que somos los arquitectos de nuestra propia miseria.}" },
  { quote: "{Anhelamos ser comprendidos, pero rara vez nos tomamos el tiempo de comprender verdaderamente a otros.}" }
];

        
        // Referencias a elementos
        const loadingOverlay = document.getElementById('loadingOverlay');
        const errorOverlay = document.getElementById('errorOverlay');
        const iframeContainer = document.getElementById('iframeContainer');
        const dashboardIframe = document.getElementById('dashboardIframe');
        const errorMessage = document.getElementById('errorMessage');
        const statusIndicator = document.getElementById('statusIndicator');
        const refreshBtn = document.getElementById('refreshBtn');
        const quoteText = document.getElementById('quoteText');
        const quoteCounter = document.getElementById('quoteCounter');
        const timeRemaining = document.getElementById('timeRemaining');

        // Variables para manejo de frases aleatorias cada 8 segundos
        let usedQuoteIndices = [];
        let quoteInterval;
        let countdownInterval;
        let secondsRemaining = 8;

        // Funci√≥n para obtener un √≠ndice aleatorio no repetido
        function getRandomQuoteIndex() {
            // Si ya usamos todas las frases, reiniciar el array
            if (usedQuoteIndices.length >= quotes.length) {
                usedQuoteIndices = [];
                console.log('üîÑ Reiniciando ciclo de frases aleatorias');
            }
            
            let availableIndices = quotes.map((_, index) => index)
                .filter(index => !usedQuoteIndices.includes(index));
            
            const randomIndex = availableIndices[Math.floor(Math.random() * availableIndices.length)];
            usedQuoteIndices.push(randomIndex);
            
            return randomIndex;
        }

        // Funci√≥n para mostrar una frase aleatoria
        function showRandomQuote() {
            // Resetear animaci√≥n
            quoteText.style.animation = 'none';
            quoteText.offsetHeight; // Trigger reflow
            quoteText.style.animation = 'fadeInUp 1s ease-out forwards';
            
            // Obtener √≠ndice aleatorio
            const randomIndex = getRandomQuoteIndex();
            
            // Actualizar contenido
            quoteText.textContent = quotes[randomIndex].quote;
            quoteCounter.innerHTML = `üé≤ Frase aleatoria ${usedQuoteIndices.length}/${quotes.length}`;
            
            console.log(`üìö Mostrando frase aleatoria #${randomIndex + 1}: "${quotes[randomIndex].quote.substring(0, 50)}..."`);
            
            // Resetear countdown a 8 segundos
            secondsRemaining = 8;
            updateCountdown();
        }

        // Funci√≥n para actualizar el countdown
        function updateCountdown() {
            timeRemaining.textContent = `Siguiente en ${secondsRemaining}s`;
            secondsRemaining--;
            
            if (secondsRemaining < 0) {
                secondsRemaining = 8;
            }
        }

        // Funci√≥n para iniciar el sistema de frases aleatorias cada 8 segundos
        function startQuoteSystem() {
            console.log('üé≤ Iniciando sistema de frases aleatorias (cada 8 segundos)...');
            
            // Reiniciar arrays de control
            usedQuoteIndices = [];
            
            // Mostrar primera frase aleatoria inmediatamente
            showRandomQuote();
            
            // Configurar intervalos
            quoteInterval = setInterval(showRandomQuote, 8000); // 8 segundos
            countdownInterval = setInterval(updateCountdown, 1000); // 1 segundo para countdown
        }

        // Funci√≥n para detener el sistema de frases
        function stopQuoteSystem() {
            if (quoteInterval) {
                clearInterval(quoteInterval);
                quoteInterval = null;
            }
            if (countdownInterval) {
                clearInterval(countdownInterval);
                countdownInterval = null;
            }
            console.log('üõë Sistema de frases aleatorias detenido');
        }

        // Funci√≥n principal para cargar el dashboard
        function loadDashboard() {
            try {
                console.log('üöÄ Iniciando carga del dashboard...');
                
                // Configurar UI para loading
                showLoading();
                hideError();
                hideIframe();
                setStatus('loading');
                disableRefreshBtn();
                
                // Iniciar sistema de frases aleatorias
                startQuoteSystem();
                
                // Configurar el iframe
                dashboardIframe.src = DASHBOARD_URL;
                
                // Configurar eventos del iframe
                dashboardIframe.onload = function() {
                    console.log('‚úÖ Iframe cargado exitosamente');
                    stopQuoteSystem();
                    
                    // Delay para mostrar transici√≥n suave
                    setTimeout(() => {
                        hideLoading();
                        showIframe();
                        setStatus('success');
                        enableRefreshBtn();
                    }, 1500);
                };
                
                dashboardIframe.onerror = function(error) {
                    console.error('‚ùå Error al cargar iframe:', error);
                    handleError('Error al cargar el dashboard en el iframe');
                };
                
                // Timeout de seguridad (60 segundos para permitir m√°s frases)
                setTimeout(() => {
                    if (loadingOverlay && !loadingOverlay.classList.contains('hidden')) {
                        console.warn('‚è∞ Timeout de carga alcanzado');
                        handleError('Tiempo de espera agotado. El servidor est√° tardando mucho en responder.');
                    }
                }, 60000);
                
            } catch (error) {
                console.error('üí• Error al configurar carga:', error);
                handleError(`Error de configuraci√≥n: ${error.message}`);
            }
        }

        // Funciones de UI
        function showLoading() {
            loadingOverlay.classList.remove('hidden');
        }

        function hideLoading() {
            loadingOverlay.classList.add('hidden');
        }

        function showError(message) {
            errorMessage.textContent = message;
            errorOverlay.classList.add('show');
        }

        function hideError() {
            errorOverlay.classList.remove('show');
        }

        function showIframe() {
            iframeContainer.classList.add('show');
        }

        function hideIframe() {
            iframeContainer.classList.remove('show');
        }

        function setStatus(status) {
            statusIndicator.className = 'status-indicator';
            statusIndicator.classList.add(`status-${status}`);
        }

        function disableRefreshBtn() {
            refreshBtn.disabled = true;
            refreshBtn.innerHTML = '<span>‚è≥</span><span>Cargando...</span>';
        }

        function enableRefreshBtn() {
            refreshBtn.disabled = false;
            refreshBtn.innerHTML = '<span>üîÑ</span><span>Actualizar</span>';
        }

        function handleError(message) {
            console.error('‚ùå Error:', message);
            stopQuoteSystem();
            hideLoading();
            showError(message);
            setStatus('error');
            enableRefreshBtn();
        }

        // Eventos de carga
        window.addEventListener('load', function() {
            console.log('üåü P√°gina cargada, iniciando dashboard...');
            
            // Delay inicial para mostrar la primera frase
            setTimeout(loadDashboard, 1000);
        });

        // Limpiar intervalos al cerrar
        window.addEventListener('beforeunload', function() {
            stopQuoteSystem();
        });

        // Manejar errores de JavaScript
        window.addEventListener('error', function(event) {
            console.error('üí• Error JavaScript global:', event.error);
            handleError('Error interno de JavaScript. Revisa la consola para m√°s detalles.');
        });

        console.log('üé≤ Sistema de frases aleatorias inicializado (cambio cada 8 segundos)');
        console.log(`üìä ${quotes.length} frases cargadas para selecci√≥n aleatoria`);
        console.log('üì± Dise√±o responsive optimizado');
    </script>
</body>
</html>